<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MOVE | Vestidos</title>
    <script src="./jsProject/listadoVestidos.js"></script>
</head>

<body>
    <h1>Información del Vestido</h1>
    <div id="detalles-vestido"></div>

    <script>
        // Función para obtener los parámetros de la URL
        function getQueryParams() {
            const params = new URLSearchParams(window.location.search);
            return {
                id: params.get('id')
            };
        }

        // Función para mostrar la información del vestido
        function mostrarInformacionVestido(id) {
            console.log(id)
            const vestido = vestidos[id];

            if (vestido) {
                let imagenesHTML = '';

                // Iterar sobre cada imagen del array
                vestido.imagen.forEach((imgSrc) => {
                    imagenesHTML += `<img src="${imgSrc}" alt="${vestido.nombre}" style="width:200px; margin-right: 10px;">`;
                });

                // Inyectar el contenido en el DOM
                document.getElementById('detalles-vestido').innerHTML = `
            <h2>${vestido.nombre}</h2>
            <div>${imagenesHTML}</div>
            <p>${vestido.descripcion}</p>
            <p>Tallas disponibles: ${vestido.tallas.join(', ')}</p>
            <button onclick="agendarCita('${id}')">Agendar Cita</button>
        `;
            } else {
                document.getElementById('detalles-vestido').innerHTML = `<p>Vestido no encontrado.</p>`;
            }
        }

        // Función para manejar el botón de agendar cita
        function agendarCita(id) {
            // Aquí puedes redirigir a un formulario o mostrar un formulario emergente para agendar la cita.
            alert(`Agendando cita para el vestido con ID: ${id}`);
            // Redirigir a la página de agendar cita con el ID del vestido
            window.location.href = `agendar.html?id=${id}`;
        }

        // Al cargar la página, mostramos la información del vestido
        const params = getQueryParams();
        if (params.id) {
            mostrarInformacionVestido(params.id);
        } else {
            document.getElementById('detalles-vestido').innerHTML = `<p>No se ha especificado ningún vestido.</p>`;
        }
    </script>
  
</body>

</html>