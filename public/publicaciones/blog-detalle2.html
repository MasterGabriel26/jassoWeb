<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <title>DreamIT- Cleaning Service HTML5 Template</title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- Favicon -->
    <link
      rel="icon"
      type="image/png"
      sizes="56x56"
      href="assets/images/fav-icon/icon.png"
    />
    <!-- bootstrap CSS -->
    <link
      rel="stylesheet"
      href="assets/css/bootstrap.min.css"
      type="text/css"
      media="all"
    />
    <!-- carousel CSS -->
    <link
      rel="stylesheet"
      href="assets/css/owl.carousel.min.css"
      type="text/css"
      media="all"
    />
    <!-- responsive CSS -->
    <link
      rel="stylesheet"
      href="assets/css/responsive.css"
      type="text/css"
      media="all"
    />
    <!-- nivo-slider CSS -->
    <link
      rel="stylesheet"
      href="assets/css/nivo-slider.css"
      type="text/css"
      media="all"
    />
    <!-- animate CSS -->
    <link
      rel="stylesheet"
      href="assets/css/animate.css"
      type="text/css"
      media="all"
    />
    <!-- animated-text CSS -->
    <link
      rel="stylesheet"
      href="assets/css/animated-text.css"
      type="text/css"
      media="all"
    />
    <!-- font-awesome CSS -->
    <link
      rel="stylesheet"
      href="assets/css/all.min.css"
      type="text/css"
      media="all"
    />
    <!-- font-flaticon CSS -->
    <link
      rel="stylesheet"
      href="assets/css/flaticon.css"
      type="text/css"
      media="all"
    />
    <!-- theme-default CSS -->
    <link
      rel="stylesheet"
      href="assets/css/theme-default.css"
      type="text/css"
      media="all"
    />
    <!-- meanmenu CSS -->
    <link
      rel="stylesheet"
      href="assets/css/meanmenu.min.css"
      type="text/css"
      media="all"
    />

    <!-- transitions CSS -->
    <link
      rel="stylesheet"
      href="assets/css/owl.transitions.css"
      type="text/css"
      media="all"
    />
    <!-- venobox CSS -->
    <link
      rel="stylesheet"
      href="venobox/venobox.css"
      type="text/css"
      media="all"
    />
    <!-- widget CSS -->
    <link
      rel="stylesheet"
      href="assets/css/widget.css"
      type="text/css"
      media="all"
    />
    <!-- Jquery UI CSS -->
    <link
      rel="stylesheet"
      href="assets/css/jquery-ui.min.css"
      type="text/css"
      media="all"
    />
    <!-- modernizr js -->
    <!-- Main Style CSS -->
    <link rel="stylesheet" href="style.css" type="text/css" media="all" />
    <script src="assets/js/vendor/modernizr-3.5.0.min.js"></script>
    <script
      src="https://code.jquery.com/jquery-3.7.1.js"
      integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4="
      crossorigin="anonymous"
    ></script>

    <!-- Estilos base de Prism -->

    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css"
      rel="stylesheet"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
    <!-- CSS -->
    <link
      rel="stylesheet"
      href="//cdn.jsdelivr.net/npm/alertifyjs@1.14.0/build/css/alertify.min.css"
    />
    <style>
      /* Contenedor del código */
      .code-container {
        position: relative;
        margin: 1.5em 0;
        border-radius: 6px;
        overflow: hidden;
        /* Para mantener las esquinas redondeadas */
        background: #282c34;
        /* Mismo color que el fondo del código */
      }

      /* Estilos para el bloque de código */
      pre[class*="language-"] {
        background: #282c34 !important;
        color: #abb2bf !important;
        padding: 40px 16px 16px !important;
        /* Aumentado el padding superior para la etiqueta */
        margin: 0 !important;
        /* Eliminado el margen */
        font-size: 14px !important;
        font-family: Consolas, Monaco, "Andale Mono", monospace !important;
        max-height: 400px !important;
        /* Altura máxima */
        overflow: auto !important;
        scrollbar-width: thin;
        scrollbar-color: #444c56 #282c34;
      }

      /* Estilo para scrollbars en WebKit (Chrome, Safari) */
      pre[class*="language-"]::-webkit-scrollbar {
        width: 8px;
        height: 8px;
      }

      pre[class*="language-"]::-webkit-scrollbar-track {
        background: #282c34;
      }

      pre[class*="language-"]::-webkit-scrollbar-thumb {
        background-color: #444c56;
        border-radius: 4px;
      }

      /* Etiqueta del lenguaje */
      .language-label {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        background: #21252b;
        color: #abb2bf;
        padding: 8px 15px;
        font-size: 12px;
        font-family: "Monaco", "Consolas", monospace;
        border-bottom: 1px solid #181a1f;
        z-index: 2;
        /* Asegura que esté por encima del código */
      }

      /* Botón de copiar */
      .copy-button {
        position: absolute;
        top: 6px;
        right: 10px;
        background: #444c56;
        border: none;
        color: #c9d1d9;
        border-radius: 4px;
        padding: 4px 10px;
        font-size: 12px;
        cursor: pointer;
        transition: all 0.2s ease;
        opacity: 0;
        z-index: 3;
        /* Asegura que esté por encima de todo */
      }

      .code-container:hover .copy-button {
        opacity: 1;
      }

      .copy-button:hover {
        background: #545d68;
      }

      /* Estilos para tokens específicos */
      .token.comment,
      .token.prolog,
      .token.doctype,
      .token.cdata {
        color: #5c6370 !important;
        font-style: italic !important;
      }

      .token.function {
        color: #61afef !important;
      }

      .token.keyword {
        color: #c678dd !important;
      }

      .token.string {
        color: #98c379 !important;
      }

      .token.number {
        color: #d19a66 !important;
      }

      .token.operator {
        color: #56b6c2 !important;
      }

      .token.punctuation {
        color: #abb2bf !important;
      }

      /* Asegura que el código tenga un espacio mínimo */
      code[class*="language-"] {
        min-height: 100%;
        display: inline-block;
        min-width: 100%;
        padding: 0 5px;
      }
    </style>
    <!-- Scripts -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <!-- Agrega esta línea junto con los otros scripts de Firebase -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-storage.js"></script>
  </head>

  <body>
    <!-- Blog Area -->
    <div class="blog-area style-four pt-90 pb-85">
      <div class="container">
        <div class="row">
          <div class="col-sm-2"></div>
          <div class="col-lg-8 col-md-12">
            <div class="row">
              <div class="col-lg-12 detalle-post">
                <div class="dreamit-blog-single-box"></div>
              </div>
            </div>
          </div>
          <div class="col-sm-2"></div>
        </div>
      </div>
    </div>

    <!-- Firebase Config and Scripts -->
    <script>
      // Configuración de Firebase
      const firebaseConfig = {
        apiKey: "AIzaSyAOvefpvlXLtbTx1T2hYg2Ds56eiKI3eAk",
        authDomain: "jassodb-4b8e4.firebaseapp.com",
        databaseURL: "https://jassodb-4b8e4-default-rtdb.firebaseio.com",
        projectId: "jassodb-4b8e4",
        storageBucket: "jassodb-4b8e4.appspot.com",
        messagingSenderId: "851107842246",
        appId: "1:851107842246:web:aa155261b9acdda47e6fc7",
        measurementId: "G-N18F7GL2NG",
      };

      // Inicializar Firebase
      firebase.initializeApp(firebaseConfig);
      const db = firebase.firestore();

      document.addEventListener("DOMContentLoaded", async () => {
        const urlParams = new URLSearchParams(window.location.search);
        const itemId = urlParams.get("id");
        console.log(itemId);
        if (itemId) {
          //try {
            const urlParams = new URLSearchParams(window.location.search);
            const publicacionId = urlParams.get("id");

            if (!publicacionId) {
              throw new Error("ID de publicación no proporcionado");
            }

            const doc = await firebase
              .firestore()
              .collection("publicaciones2")
              .doc(publicacionId)
              .get();

            if (!doc.exists) {
              throw new Error("Publicación no encontrada");
            }

            const data = doc.data();
console.log(data)
// Suponiendo que el objeto de datos se llama "item"
const detalleHtml = `
    <div class="dreamit-blog-single-box">
        <div class="blog-content-text post-content">
            ${data.contenido || '<p>Contenido no disponible</p>'}
        </div>
    </div>
`;

// Insertar el contenido en el lugar adecuado del DOM
$('.detalle-post').html(detalleHtml);

// Actualizar el título de la página, si es necesario
if (item.titulo) {
    document.title = item.titulo;
}


            // Establecer imagen destacada como fondo
            // if (data.imagen_destacada) {
            //   document.getElementById(
            //     "hero-image"
            //   ).style.backgroundImage = `url('${data.imagen_destacada}')`;
            // }

            // // Llenar datos principales
            // document.getElementById("titulo").textContent =
            //   data.titulo || "Título no disponible";
            // document.getElementById("categoria").textContent =
            //   data.categoria || "Categoría no especificada";
            // document.getElementById("lugar").textContent =
            //   data.lugar || "Lugar no especificado";

            // // Insertar contenido con seguridad
            // const contenidoDiv = document.getElementById("contenido");
            // contenidoDiv.innerHTML =
            //   data.contenido || "<p>Contenido no disponible</p>";

            // // Procesar imágenes dentro del contenido
            // contenidoDiv.querySelectorAll("img").forEach((img) => {
            //   img.style.maxWidth = "100%";
            //   img.style.height = "auto";
            // });


            // Mostrar galería si existen medios
            // const galeriaContainer = document.getElementById("galeria");
            // if (data.medios && data.medios.length > 0) {
            //   galeriaContainer.innerHTML = "";

            //   data.medios.forEach((medio) => {
            //     if (medio.tipo === "image") {
            //       const div = document.createElement("div");
            //       div.className = "gallery-item";

            //       const img = document.createElement("img");
            //       img.src = medio.url;
            //       img.alt = medio.nombre || "Imagen de galería";
            //       img.loading = "lazy";

            //       div.appendChild(img);
            //       galeriaContainer.appendChild(div);
            //     }
            //   });
            // } else {
            //   galeriaContainer.innerHTML = "<p>No hay imágenes disponibles</p>";
            // }
        //   } catch (error) {
        //     console.error("Error al cargar la publicación:", error);
        //     alert("Error al cargar la publicación: " + error.message);
         // }
        } else {
          alert("No se proporcionó un ID.");
        }
      });
    </script>

    <!--==================================================-->
    <!-- Start Search Popup Area -->
    <!--==================================================-->
    <!-- jquery js -->
    <script src="assets/js/vendor/jquery-3.2.1.min.js"></script>
    <!-- bootstrap js -->
    <script src="assets/js/bootstrap.min.js"></script>
    <!-- carousel js -->
    <script src="assets/js/owl.carousel.min.js"></script>
    <!-- counterup js -->
    <script src="assets/js/jquery.counterup.min.js"></script>
    <!-- waypoints js -->
    <script src="assets/js/waypoints.min.js"></script>
    <!-- wow js -->
    <script src="assets/js/wow.js"></script>
    <!-- imagesloaded js -->
    <script src="assets/js/imagesloaded.pkgd.min.js"></script>
    <!-- venobox js -->
    <script src="venobox/venobox.js"></script>
    <!-- ajax mail js -->
    <script src="assets/js/tilt.jquery.min.js"></script>
    <script src="assets/js/ajax-mail.js"></script>
    <!--  animated-text js -->
    <script src="assets/js/animated-text.js"></script>
    <!-- venobox min js -->
    <script src="venobox/venobox.min.js"></script>
    <!-- isotope js -->
    <script src="assets/js/isotope.pkgd.min.js"></script>
    <!-- jquery nivo slider pack js -->
    <script src="assets/js/jquery.nivo.slider.pack.js"></script>
    <!-- jquery meanmenu js -->
    <script src="assets/js/jquery.meanmenu.js"></script>
    <script src="assets/js/popper.min.js"></script>
    <!-- jquery scrollup js -->
    <script src="assets/js/jquery.scrollUp.js"></script>
    <!-- theme js -->
    <script src="assets/js/jquery.scrollUp.js"></script>
    <!-- Jquery UI js -->
    <script src="assets/js/jquery-ui.min.js"></script>
    <!-- jquery js -->
    <script src="assets/js/main.js"></script>
    <!-- <script src="./js/funciones"></script> -->
  </body>
</html>
